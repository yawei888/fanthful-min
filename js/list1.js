"use strict";var count1=void 0,flag=!0;function getData(n){flag=!(flag=!0),$(document).ajaxStart(function(){$("#divload").show()}).ajaxStop(function(){$("#divload").hide(),flag=!0}),$.ajax({url:"../api/getData.php",method:"get",data:{start:9,len:n},dataType:"json",async:!0,success:function(n){render(n)},error:function(n){console.log(n)}})}function render(n){var o="";n.forEach(function(n,t){o+='\n        <div class="col-sm-6 col-md-4 dianji">\n            <div class="thumbnail" data-id="'+n.uid+'">\n                <img src="'+n.pic+'" alt="...">\n                <div class="caption">\n                    <h6>'+n.name+"</h6>\n                    <p>"+n.englishName+"</p>\n                    <span>ï¿¥"+n.price+"</span>\n                </div>\n            </div>\n        </div>"}),$(".rows").html(o),flag=!0}function sortsNum(n){$(".sorts_2").on("click",function(){render(n.sort(function(n,t){return t.price-n.price}))}),$(".sorts_1").on("click",function(){render(n.sort(function(n,t){return n.price-t.price}))}),$(".sorts_3").on("click",function(){console.log(1),render(n.sort(function(n,t){return t.buyCount-n.buyCount}))})}window.addEventListener("scroll",function(){var n=1;count1=localStorage.getItem("count");for(var t=$("body,html").scrollTop();800*count1<t;n++)if(count1++,localStorage.setItem("count",count1),getData(count1),12<=n)return}),window.onload=function(){count1="undefined"==localStorage.getItem("count")?localStorage.setItem("count",0):localStorage.getItem("count")},window.onbeforeunload=function(){return count1=localStorage.setItem("count",0)},$(".rows").on("click",".thumbnail",function(){location.href="../html/detail.html?id="+$(this).attr("data-id")}),$.ajax({url:"../api/getallData.php",method:"get",dataType:"json",async:!0,success:function(n){sortsNum(n)},error:function(n){console.log(n)}});