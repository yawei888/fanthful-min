"use strict";var url=location.href;console.log(url);var verifyCode=void 0;$("#picyzm").on("click",function(){$("#picyzm").html(""),verifyCode=new GVerify({id:"picyzm",type:"number",length:4})}),jQuery.validator.addMethod("testTel",function(e){return!!/^1[3,5,6,7,8]\d{9}$/.test(e)},"请输入正确的手机号码"),jQuery.validator.addMethod("passWord",function(e){return!!/^[0-9a-zA-Z,\.]{8,14}$/.test(e)},"密码格式有误"),jQuery.validator.addMethod("picYzm",function(e){return!!verifyCode.validate($("#inputNum").val())},"验证码不正确"),jQuery.validator.addMethod("checked",function(e){return!!e},"请确定勾选"),$("#forms").validate({rules:{username:{required:!0,maxlength:14,minlength:7},tel:{required:!0,testTel:!0},password:{required:!0,passWord:!0},isyes:{required:!0,equalTo:"#mima"},inputNum:{required:!0,picYzm:!0},check:{checked:!0}},messages:{username:{required:"用户名必填项",maxlength:"用户的最大长度只能为14位",minlength:"用户名不能低于7位字符"},tel:{required:"用户名必填项",testTel:"手机号格式不正确"}},submitHandler:function(){console.log(this),console.log(this.successList[0].value),window.event.preventDefault(),$.ajax({url:"../api/register.php",method:"post",data:{username:this.successList[0].value,password:this.successList[2].value,tel:this.successList[1].value},dataType:"json",async:!0,success:function(e){console.log(e),console.log(this),1!=e.code||1!=confirm("注册成功,是否要跳转到首页登录")?0==e.code&&alert(e.message):location.href="../index.html"},error:function(e){console.log(e)}})}});